<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span id="%24con2tag_7d3XOrqNkQd1LWcgxXjA7G"></span><span class="hs-pragma">{-# LANGUAGE ApplicativeDo                            #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DataKinds                                #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE GADTs                                    #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE RecordWildCards                          #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables                      #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications                         #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators                            #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# OPTIONS_GHC -fplugin GHC.TypeLits.KnownNat.Solver #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# OPTIONS_GHC -fplugin GHC.TypeLits.Normalise       #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# OPTIONS_HADDOCK not-home                          #-}</span><span>
</span><span id="line-12"></span><span>
</span><span id="line-13"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-14"></span><span class="hs-comment">-- Module      : Numeric.EMD.Internal.Spline</span><span>
</span><span id="line-15"></span><span class="hs-comment">-- Copyright   : (c) Justin Le 2018</span><span>
</span><span id="line-16"></span><span class="hs-comment">-- License     : BSD3</span><span>
</span><span id="line-17"></span><span class="hs-comment">--</span><span>
</span><span id="line-18"></span><span class="hs-comment">-- Maintainer  : justin@jle.im</span><span>
</span><span id="line-19"></span><span class="hs-comment">-- Stability   : experimental</span><span>
</span><span id="line-20"></span><span class="hs-comment">-- Portability : non-portable</span><span>
</span><span id="line-21"></span><span class="hs-comment">--</span><span>
</span><span id="line-22"></span><span class="hs-comment">-- Internal splining functionality exported for testing purposes only.</span><span>
</span><span id="line-23"></span><span class="hs-comment">-- This will likely go away in future versions, so please do not depend on</span><span>
</span><span id="line-24"></span><span class="hs-comment">-- this!</span><span>
</span><span id="line-25"></span><span class="hs-comment">--</span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Numeric.EMD.Internal.Spline</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-28"></span><span>    </span><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#Spline"><span class="hs-identifier">Spline</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#SplineEnd"><span class="hs-identifier">SplineEnd</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#makeSpline"><span class="hs-identifier">makeSpline</span></a></span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#sampleSpline"><span class="hs-identifier">sampleSpline</span></a></span><span>
</span><span id="line-31"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Finite</span></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Proxy</span></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Type.Equality</span></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">GHC.Generics</span></span><span>                     </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Generic</span></span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">GHC.TypeLits.Compare</span></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">GHC.TypeNats</span></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Numeric.EMD.Internal.Tridiagonal.html"><span class="hs-identifier">Numeric.EMD.Internal.Tridiagonal</span></a></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Binary</span></span><span>                      </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Bi</span></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span>                         </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector.Sized</span></span><span>                </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SV</span></span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span class="hs-comment">-- | End condition for spline</span><span>
</span><span id="line-46"></span><span id="local-6989586621679165871"><span id="local-6989586621679165872"></span></span><span class="hs-keyword">data</span><span> </span><span id="SplineEnd"><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#SplineEnd"><span class="hs-identifier hs-var">SplineEnd</span></a></span></span><span> </span><span id="local-6989586621679165870"><span class="annot"><a href="#local-6989586621679165870"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-47"></span><span>    </span><span class="hs-comment">-- | &quot;Not-a-knot&quot; condition: third derivatives are continuous at</span><span>
</span><span id="line-48"></span><span>    </span><span class="hs-comment">-- endpoints.  Default for matlab spline.</span><span>
</span><span id="line-49"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="SENotAKnot"><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#SENotAKnot"><span class="hs-identifier hs-var">SENotAKnot</span></a></span></span><span>
</span><span id="line-50"></span><span>    </span><span class="hs-comment">-- | \&quot;Natural\&quot; condition: curve becomes a straight line at endpoints.</span><span>
</span><span id="line-51"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="SENatural"><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#SENatural"><span class="hs-identifier hs-var">SENatural</span></a></span></span><span>
</span><span id="line-52"></span><span>    </span><span class="hs-comment">-- | \&quot;Clamped\&quot; condition: Slope of curves at endpoints are explicitly</span><span>
</span><span id="line-53"></span><span>    </span><span class="hs-comment">-- given.</span><span>
</span><span id="line-54"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-55"></span><span>    </span><span class="hs-comment">-- @since 0.1.2.0</span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="SEClamped"><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#SEClamped"><span class="hs-identifier hs-var">SEClamped</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679165870"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679165870"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679165861"><span id="local-6989586621679165863"><span id="local-6989586621679165865"><span class="annot"><span class="annottext">Int -&gt; SplineEnd a -&gt; ShowS
[SplineEnd a] -&gt; ShowS
SplineEnd a -&gt; String
(Int -&gt; SplineEnd a -&gt; ShowS)
-&gt; (SplineEnd a -&gt; String)
-&gt; ([SplineEnd a] -&gt; ShowS)
-&gt; Show (SplineEnd a)
forall a. Show a =&gt; Int -&gt; SplineEnd a -&gt; ShowS
forall a. Show a =&gt; [SplineEnd a] -&gt; ShowS
forall a. Show a =&gt; SplineEnd a -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [SplineEnd a] -&gt; ShowS
$cshowList :: forall a. Show a =&gt; [SplineEnd a] -&gt; ShowS
show :: SplineEnd a -&gt; String
$cshow :: forall a. Show a =&gt; SplineEnd a -&gt; String
showsPrec :: Int -&gt; SplineEnd a -&gt; ShowS
$cshowsPrec :: forall a. Show a =&gt; Int -&gt; SplineEnd a -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679165856"><span id="local-6989586621679165858"><span class="annot"><span class="annottext">SplineEnd a -&gt; SplineEnd a -&gt; Bool
(SplineEnd a -&gt; SplineEnd a -&gt; Bool)
-&gt; (SplineEnd a -&gt; SplineEnd a -&gt; Bool) -&gt; Eq (SplineEnd a)
forall a. Eq a =&gt; SplineEnd a -&gt; SplineEnd a -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: SplineEnd a -&gt; SplineEnd a -&gt; Bool
$c/= :: forall a. Eq a =&gt; SplineEnd a -&gt; SplineEnd a -&gt; Bool
== :: SplineEnd a -&gt; SplineEnd a -&gt; Bool
$c== :: forall a. Eq a =&gt; SplineEnd a -&gt; SplineEnd a -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679165840"><span id="local-6989586621679165842"><span id="local-6989586621679165844"><span id="local-6989586621679165846"><span id="local-6989586621679165848"><span id="local-6989586621679165850"><span id="local-6989586621679165852"><span class="annot"><span class="annottext">Eq (SplineEnd a)
Eq (SplineEnd a) =&gt;
(SplineEnd a -&gt; SplineEnd a -&gt; Ordering)
-&gt; (SplineEnd a -&gt; SplineEnd a -&gt; Bool)
-&gt; (SplineEnd a -&gt; SplineEnd a -&gt; Bool)
-&gt; (SplineEnd a -&gt; SplineEnd a -&gt; Bool)
-&gt; (SplineEnd a -&gt; SplineEnd a -&gt; Bool)
-&gt; (SplineEnd a -&gt; SplineEnd a -&gt; SplineEnd a)
-&gt; (SplineEnd a -&gt; SplineEnd a -&gt; SplineEnd a)
-&gt; Ord (SplineEnd a)
SplineEnd a -&gt; SplineEnd a -&gt; Bool
SplineEnd a -&gt; SplineEnd a -&gt; Ordering
SplineEnd a -&gt; SplineEnd a -&gt; SplineEnd a
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall a. Ord a =&gt; Eq (SplineEnd a)
forall a. Ord a =&gt; SplineEnd a -&gt; SplineEnd a -&gt; Bool
forall a. Ord a =&gt; SplineEnd a -&gt; SplineEnd a -&gt; Ordering
forall a. Ord a =&gt; SplineEnd a -&gt; SplineEnd a -&gt; SplineEnd a
min :: SplineEnd a -&gt; SplineEnd a -&gt; SplineEnd a
$cmin :: forall a. Ord a =&gt; SplineEnd a -&gt; SplineEnd a -&gt; SplineEnd a
max :: SplineEnd a -&gt; SplineEnd a -&gt; SplineEnd a
$cmax :: forall a. Ord a =&gt; SplineEnd a -&gt; SplineEnd a -&gt; SplineEnd a
&gt;= :: SplineEnd a -&gt; SplineEnd a -&gt; Bool
$c&gt;= :: forall a. Ord a =&gt; SplineEnd a -&gt; SplineEnd a -&gt; Bool
&gt; :: SplineEnd a -&gt; SplineEnd a -&gt; Bool
$c&gt; :: forall a. Ord a =&gt; SplineEnd a -&gt; SplineEnd a -&gt; Bool
&lt;= :: SplineEnd a -&gt; SplineEnd a -&gt; Bool
$c&lt;= :: forall a. Ord a =&gt; SplineEnd a -&gt; SplineEnd a -&gt; Bool
&lt; :: SplineEnd a -&gt; SplineEnd a -&gt; Bool
$c&lt; :: forall a. Ord a =&gt; SplineEnd a -&gt; SplineEnd a -&gt; Bool
compare :: SplineEnd a -&gt; SplineEnd a -&gt; Ordering
$ccompare :: forall a. Ord a =&gt; SplineEnd a -&gt; SplineEnd a -&gt; Ordering
$cp1Ord :: forall a. Ord a =&gt; Eq (SplineEnd a)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. SplineEnd a -&gt; Rep (SplineEnd a) x)
-&gt; (forall x. Rep (SplineEnd a) x -&gt; SplineEnd a)
-&gt; Generic (SplineEnd a)
forall x. Rep (SplineEnd a) x -&gt; SplineEnd a
forall x. SplineEnd a -&gt; Rep (SplineEnd a) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall a x. Rep (SplineEnd a) x -&gt; SplineEnd a
forall a x. SplineEnd a -&gt; Rep (SplineEnd a) x
$cto :: forall a x. Rep (SplineEnd a) x -&gt; SplineEnd a
$cfrom :: forall a x. SplineEnd a -&gt; Rep (SplineEnd a) x
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span class="hs-comment">-- | @since 0.1.3.0</span><span>
</span><span id="line-60"></span><span id="local-6989586621679165835"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679165829"><span id="local-6989586621679165831"><span id="local-6989586621679165833"><span class="annot"><span class="hs-identifier hs-type">Bi.Binary</span></span><span> </span><span class="annot"><a href="#local-6989586621679165835"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bi.Binary</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#SplineEnd"><span class="hs-identifier hs-type">SplineEnd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679165835"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-61"></span><span>
</span><span id="line-62"></span><span class="hs-keyword">data</span><span> </span><span id="SplineCoef"><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#SplineCoef"><span class="hs-identifier hs-var">SplineCoef</span></a></span></span><span> </span><span id="local-6989586621679165903"><span class="annot"><a href="#local-6989586621679165903"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SC"><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#SC"><span class="hs-identifier hs-var">SC</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="_scAlpha"><span class="annot"><span class="annottext">SplineCoef a -&gt; a
</span><a href="Numeric.EMD.Internal.Spline.html#_scAlpha"><span class="hs-identifier hs-var hs-var">_scAlpha</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="#local-6989586621679165903"><span class="hs-identifier hs-type">a</span></a></span><span>      </span><span class="hs-comment">-- ^ a</span><span>
</span><span id="line-63"></span><span>                       </span><span class="hs-special">,</span><span> </span><span id="_scBeta"><span class="annot"><span class="annottext">SplineCoef a -&gt; a
</span><a href="Numeric.EMD.Internal.Spline.html#_scBeta"><span class="hs-identifier hs-var hs-var">_scBeta</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="#local-6989586621679165903"><span class="hs-identifier hs-type">a</span></a></span><span>      </span><span class="hs-comment">-- ^ b</span><span>
</span><span id="line-64"></span><span>                       </span><span class="hs-special">,</span><span> </span><span id="_scGamma0"><span class="annot"><span class="annottext">SplineCoef a -&gt; a
</span><a href="Numeric.EMD.Internal.Spline.html#_scGamma0"><span class="hs-identifier hs-var hs-var">_scGamma0</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="#local-6989586621679165903"><span class="hs-identifier hs-type">a</span></a></span><span>      </span><span class="hs-comment">-- ^ y_{i-1}</span><span>
</span><span id="line-65"></span><span>                       </span><span class="hs-special">,</span><span> </span><span id="_scGamma1"><span class="annot"><span class="annottext">SplineCoef a -&gt; a
</span><a href="Numeric.EMD.Internal.Spline.html#_scGamma1"><span class="hs-identifier hs-var hs-var">_scGamma1</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="#local-6989586621679165903"><span class="hs-identifier hs-type">a</span></a></span><span>      </span><span class="hs-comment">-- ^ y_i</span><span>
</span><span id="line-66"></span><span>                       </span><span class="hs-special">,</span><span> </span><span id="_scDelta"><span class="annot"><span class="annottext">SplineCoef a -&gt; a
</span><a href="Numeric.EMD.Internal.Spline.html#_scDelta"><span class="hs-identifier hs-var hs-var">_scDelta</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="#local-6989586621679165903"><span class="hs-identifier hs-type">a</span></a></span><span>      </span><span class="hs-comment">-- ^ x_i - x_{i-1}</span><span>
</span><span id="line-67"></span><span>                       </span><span class="hs-special">}</span><span>
</span><span id="line-68"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679165816"><span id="local-6989586621679165818"><span id="local-6989586621679165820"><span class="annot"><span class="annottext">Int -&gt; SplineCoef a -&gt; ShowS
[SplineCoef a] -&gt; ShowS
SplineCoef a -&gt; String
(Int -&gt; SplineCoef a -&gt; ShowS)
-&gt; (SplineCoef a -&gt; String)
-&gt; ([SplineCoef a] -&gt; ShowS)
-&gt; Show (SplineCoef a)
forall a. Show a =&gt; Int -&gt; SplineCoef a -&gt; ShowS
forall a. Show a =&gt; [SplineCoef a] -&gt; ShowS
forall a. Show a =&gt; SplineCoef a -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [SplineCoef a] -&gt; ShowS
$cshowList :: forall a. Show a =&gt; [SplineCoef a] -&gt; ShowS
show :: SplineCoef a -&gt; String
$cshow :: forall a. Show a =&gt; SplineCoef a -&gt; String
showsPrec :: Int -&gt; SplineCoef a -&gt; ShowS
$cshowsPrec :: forall a. Show a =&gt; Int -&gt; SplineCoef a -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span class="hs-comment">-- | 1D Cubic spline</span><span>
</span><span id="line-71"></span><span class="hs-keyword">data</span><span> </span><span id="Spline"><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#Spline"><span class="hs-identifier hs-var">Spline</span></a></span></span><span> </span><span id="local-6989586621679165973"><span class="annot"><a href="#local-6989586621679165973"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Spline"><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#Spline"><span class="hs-identifier hs-var">Spline</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="splineHead"><span class="annot"><span class="annottext">Spline a -&gt; (a, SplineCoef a)
</span><a href="Numeric.EMD.Internal.Spline.html#splineHead"><span class="hs-identifier hs-var hs-var">splineHead</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679165973"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#SplineCoef"><span class="hs-identifier hs-type">SplineCoef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679165973"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span>                       </span><span class="hs-special">,</span><span> </span><span id="splineTail"><span class="annot"><span class="annottext">Spline a -&gt; Map a (SplineCoef a)
</span><a href="Numeric.EMD.Internal.Spline.html#splineTail"><span class="hs-identifier hs-var hs-var">splineTail</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M.Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679165973"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#SplineCoef"><span class="hs-identifier hs-type">SplineCoef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679165973"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span>                       </span><span class="hs-special">}</span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span id="local-6989586621679165970"><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#runSplineCoef"><span class="hs-identifier hs-type">runSplineCoef</span></a></span><span>
</span><span id="line-76"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621679165970"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-77"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679165970"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-78"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#SplineCoef"><span class="hs-identifier hs-type">SplineCoef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679165970"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-79"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679165970"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-80"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679165970"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-81"></span><span id="runSplineCoef"><span class="annot"><span class="annottext">runSplineCoef :: a -&gt; SplineCoef a -&gt; a -&gt; a
</span><a href="Numeric.EMD.Internal.Spline.html#runSplineCoef"><span class="hs-identifier hs-var hs-var">runSplineCoef</span></a></span></span><span> </span><span id="local-6989586621679165811"><span class="annot"><span class="annottext">x0 :: a
</span><a href="#local-6989586621679165811"><span class="hs-identifier hs-var">x0</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#SC"><span class="hs-identifier hs-type">SC</span></a></span><span> </span><span id="local-6989586621679165810"><span class="annot"><span class="annottext">&#945; :: a
</span><a href="#local-6989586621679165810"><span class="hs-identifier hs-var">&#945;</span></a></span></span><span> </span><span id="local-6989586621679165809"><span class="annot"><span class="annottext">&#946; :: a
</span><a href="#local-6989586621679165809"><span class="hs-identifier hs-var">&#946;</span></a></span></span><span> </span><span id="local-6989586621679165808"><span class="annot"><span class="annottext">&#947;0 :: a
</span><a href="#local-6989586621679165808"><span class="hs-identifier hs-var">&#947;0</span></a></span></span><span> </span><span id="local-6989586621679165807"><span class="annot"><span class="annottext">&#947;1 :: a
</span><a href="#local-6989586621679165807"><span class="hs-identifier hs-var">&#947;1</span></a></span></span><span> </span><span id="local-6989586621679165806"><span class="annot"><span class="annottext">&#948; :: a
</span><a href="#local-6989586621679165806"><span class="hs-identifier hs-var">&#948;</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679165805"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679165805"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165804"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165808"><span class="hs-identifier hs-var">&#947;0</span></a></span><span>
</span><span id="line-82"></span><span>                                    </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165801"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165807"><span class="hs-identifier hs-var">&#947;1</span></a></span><span>
</span><span id="line-83"></span><span>                                    </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165801"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165804"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165804"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165810"><span class="hs-identifier hs-var">&#945;</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165801"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165809"><span class="hs-identifier hs-var">&#946;</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-85"></span><span>    </span><span id="local-6989586621679165801"><span class="annot"><span class="annottext">t :: a
</span><a href="#local-6989586621679165801"><span class="hs-identifier hs-var hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165805"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165811"><span class="hs-identifier hs-var">x0</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165806"><span class="hs-identifier hs-var">&#948;</span></a></span><span>
</span><span id="line-86"></span><span>    </span><span id="local-6989586621679165804"><span class="annot"><span class="annottext">q :: a
</span><a href="#local-6989586621679165804"><span class="hs-identifier hs-var hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165801"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span class="hs-comment">-- | Sample a spline at a given point.</span><span>
</span><span id="line-89"></span><span id="local-6989586621679165799"><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#sampleSpline"><span class="hs-identifier hs-type">sampleSpline</span></a></span><span>
</span><span id="line-90"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621679165799"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679165799"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#Spline"><span class="hs-identifier hs-type">Spline</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679165799"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-92"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679165799"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-93"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679165799"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-94"></span><span id="sampleSpline"><span class="annot"><span class="annottext">sampleSpline :: Spline a -&gt; a -&gt; a
</span><a href="Numeric.EMD.Internal.Spline.html#sampleSpline"><span class="hs-identifier hs-var hs-var">sampleSpline</span></a></span></span><span> </span><span id="local-6989586621679165797"><span id="local-6989586621679165798"><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#Spline"><span class="hs-identifier hs-type">Spline</span></a></span><span class="hs-special">{</span><span class="hs-glyph">..</span><span class="hs-special">}</span></span></span><span> </span><span id="local-6989586621679165796"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679165796"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165796"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Map a (SplineCoef a) -&gt; Maybe (a, SplineCoef a)
forall k v. Ord k =&gt; k -&gt; Map k v -&gt; Maybe (k, v)
</span><span class="hs-operator hs-var">`M.lookupLE`</span></span><span> </span><span class="annot"><span class="annottext">Map a (SplineCoef a)
</span><a href="#local-6989586621679165797"><span class="hs-identifier hs-var">splineTail</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-95"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-96"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679165794"><span class="annot"><span class="annottext">x0 :: a
</span><a href="#local-6989586621679165794"><span class="hs-identifier hs-var">x0</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679165793"><span class="annot"><span class="annottext">sc :: SplineCoef a
</span><a href="#local-6989586621679165793"><span class="hs-identifier hs-var">sc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, SplineCoef a)
</span><a href="#local-6989586621679165798"><span class="hs-identifier hs-var">splineHead</span></a></span><span>
</span><span id="line-97"></span><span>      </span><span class="hs-keyword">in</span><span>  </span><span class="annot"><span class="annottext">a -&gt; SplineCoef a -&gt; a -&gt; a
forall a. Fractional a =&gt; a -&gt; SplineCoef a -&gt; a -&gt; a
</span><a href="Numeric.EMD.Internal.Spline.html#runSplineCoef"><span class="hs-identifier hs-var">runSplineCoef</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165794"><span class="hs-identifier hs-var">x0</span></a></span><span> </span><span class="annot"><span class="annottext">SplineCoef a
</span><a href="#local-6989586621679165793"><span class="hs-identifier hs-var">sc</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165796"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-98"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679165792"><span class="annot"><span class="annottext">x0 :: a
</span><a href="#local-6989586621679165792"><span class="hs-identifier hs-var">x0</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679165791"><span class="annot"><span class="annottext">sc :: SplineCoef a
</span><a href="#local-6989586621679165791"><span class="hs-identifier hs-var">sc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; SplineCoef a -&gt; a -&gt; a
forall a. Fractional a =&gt; a -&gt; SplineCoef a -&gt; a -&gt; a
</span><a href="Numeric.EMD.Internal.Spline.html#runSplineCoef"><span class="hs-identifier hs-var">runSplineCoef</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165792"><span class="hs-identifier hs-var">x0</span></a></span><span> </span><span class="annot"><span class="annottext">SplineCoef a
</span><a href="#local-6989586621679165791"><span class="hs-identifier hs-var">sc</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165796"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="hs-comment">-- | Build a cubic spline based on control points using given end</span><span>
</span><span id="line-101"></span><span class="hs-comment">-- conditions (not-a-knot, or natural)</span><span>
</span><span id="line-102"></span><span class="hs-comment">--</span><span>
</span><span id="line-103"></span><span class="hs-comment">-- &lt;https://en.wikipedia.org/wiki/Spline_interpolation&gt;</span><span>
</span><span id="line-104"></span><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#makeSpline"><span class="hs-identifier hs-type">makeSpline</span></a></span><span>
</span><span id="line-105"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679165790"><span class="annot"><a href="#local-6989586621679165790"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679165790"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621679165790"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#SplineEnd"><span class="hs-identifier hs-type">SplineEnd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679165790"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-107"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">M.Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679165790"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679165790"><span class="hs-identifier hs-type">a</span></a></span><span>            </span><span class="hs-comment">-- ^ (x, y)</span><span>
</span><span id="line-108"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#Spline"><span class="hs-identifier hs-type">Spline</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679165790"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-109"></span><span id="makeSpline"><span class="annot"><span class="annottext">makeSpline :: SplineEnd a -&gt; Map a a -&gt; Maybe (Spline a)
</span><a href="Numeric.EMD.Internal.Spline.html#makeSpline"><span class="hs-identifier hs-var hs-var">makeSpline</span></a></span></span><span> </span><span id="local-6989586621679165789"><span class="annot"><span class="annottext">se :: SplineEnd a
</span><a href="#local-6989586621679165789"><span class="hs-identifier hs-var">se</span></a></span></span><span> </span><span id="local-6989586621679165788"><span class="annot"><span class="annottext">ps :: Map a a
</span><a href="#local-6989586621679165788"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(a, a)]
-&gt; (forall (n :: Nat).
    KnownNat n =&gt;
    Vector n (a, a) -&gt; Maybe (Spline a))
-&gt; Maybe (Spline a)
forall a r.
[a] -&gt; (forall (n :: Nat). KnownNat n =&gt; Vector n a -&gt; r) -&gt; r
</span><span class="hs-identifier hs-var">SV.withSizedList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map a a -&gt; [(a, a)]
forall k a. Map k a -&gt; [(k, a)]
</span><span class="hs-identifier hs-var">M.toList</span></span><span> </span><span class="annot"><span class="annottext">Map a a
</span><a href="#local-6989586621679165788"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((forall (n :: Nat).
  KnownNat n =&gt;
  Vector n (a, a) -&gt; Maybe (Spline a))
 -&gt; Maybe (Spline a))
-&gt; (forall (n :: Nat).
    KnownNat n =&gt;
    Vector n (a, a) -&gt; Maybe (Spline a))
-&gt; Maybe (Spline a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679165785"><span id="local-6989586621679165784"><span class="annot"><span class="annottext">Vector n (a, a)
</span><a href="#local-6989586621679165784"><span class="hs-identifier hs-var">xsys</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SV.Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679165785"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679165790"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679165790"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-110"></span><span>      </span><span class="annot"><span class="annottext">(1 &lt;=? n) :~: 'True
</span><span class="hs-identifier hs-var">Refl</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Proxy 1
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Proxy 1 -&gt; Proxy n -&gt; Maybe ((1 &lt;=? n) :~: 'True)
forall (m :: Nat) (n :: Nat) (p :: Nat -&gt; *) (q :: Nat -&gt; *).
(KnownNat m, KnownNat n) =&gt;
p m -&gt; q n -&gt; Maybe ((m &lt;=? n) :~: 'True)
</span><span class="hs-operator hs-var">`isLE`</span></span><span> </span><span class="annot"><span class="annottext">Proxy n
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679165785"><span class="hs-identifier hs-type">n</span></a></span><span>
</span><span id="line-111"></span><span>      </span><span class="annot"><span class="annottext">(2 &lt;=? n) :~: 'True
</span><span class="hs-identifier hs-var">Refl</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Proxy 2
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Proxy 2 -&gt; Proxy n -&gt; Maybe ((2 &lt;=? n) :~: 'True)
forall (m :: Nat) (n :: Nat) (p :: Nat -&gt; *) (q :: Nat -&gt; *).
(KnownNat m, KnownNat n) =&gt;
p m -&gt; q n -&gt; Maybe ((m &lt;=? n) :~: 'True)
</span><span class="hs-operator hs-var">`isLE`</span></span><span> </span><span class="annot"><span class="annottext">Proxy n
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679165785"><span class="hs-identifier hs-type">n</span></a></span><span>
</span><span id="line-112"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621679165780"><span class="hs-identifier hs-type">xs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679165779"><span class="hs-identifier hs-type">ys</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SV.Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679165785"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679165790"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-113"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621679165780"><span class="annot"><span class="annottext">xs :: Vector n a
</span><a href="#local-6989586621679165780"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679165779"><span class="annot"><span class="annottext">ys :: Vector n a
</span><a href="#local-6989586621679165779"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Vector n (a, a) -&gt; (Vector n a, Vector n a)
forall (n :: Nat) a b. Vector n (a, b) -&gt; (Vector n a, Vector n b)
</span><span class="hs-identifier hs-var">SV.unzip</span></span><span> </span><span class="annot"><span class="annottext">Vector n (a, a)
</span><a href="#local-6989586621679165784"><span class="hs-identifier hs-var">xsys</span></a></span><span>
</span><span id="line-114"></span><span>          </span><span class="annot"><a href="#local-6989586621679165777"><span class="hs-identifier hs-type">dxs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679165776"><span class="hs-identifier hs-type">dys</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SV.Vector</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679165785"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679165790"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-115"></span><span>          </span><span id="local-6989586621679165777"><span class="annot"><span class="annottext">dxs :: Vector (n - 1) a
</span><a href="#local-6989586621679165777"><span class="hs-identifier hs-var hs-var">dxs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Vector (1 + (n - 1)) a -&gt; Vector (n - 1) a
forall (n :: Nat) a. Vector (1 + n) a -&gt; Vector n a
</span><span class="hs-identifier hs-var">SV.tail</span></span><span> </span><span class="annot"><span class="annottext">Vector n a
Vector (1 + (n - 1)) a
</span><a href="#local-6989586621679165780"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n - 1) a -&gt; Vector (n - 1) a -&gt; Vector (n - 1) a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Vector ((n - 1) + 1) a -&gt; Vector (n - 1) a
forall (n :: Nat) a. Vector (n + 1) a -&gt; Vector n a
</span><span class="hs-identifier hs-var">SV.init</span></span><span> </span><span class="annot"><span class="annottext">Vector n a
Vector ((n - 1) + 1) a
</span><a href="#local-6989586621679165780"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-116"></span><span>          </span><span class="annot"><a href="#local-6989586621679165773"><span class="hs-identifier hs-type">rdxs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SV.Vector</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679165785"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679165790"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-117"></span><span>          </span><span id="local-6989586621679165773"><span class="annot"><span class="annottext">rdxs :: Vector (n - 1) a
</span><a href="#local-6989586621679165773"><span class="hs-identifier hs-var hs-var">rdxs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Vector (n - 1) a -&gt; Vector (n - 1) a
forall a. Fractional a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">recip</span></span><span> </span><span class="annot"><span class="annottext">Vector (n - 1) a
</span><a href="#local-6989586621679165777"><span class="hs-identifier hs-var">dxs</span></a></span><span>
</span><span id="line-118"></span><span>          </span><span class="annot"><a href="#local-6989586621679165771"><span class="hs-identifier hs-type">rdxssq</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SV.Vector</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679165785"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679165790"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-119"></span><span>          </span><span id="local-6989586621679165771"><span class="annot"><span class="annottext">rdxssq :: Vector (n - 1) a
</span><a href="#local-6989586621679165771"><span class="hs-identifier hs-var hs-var">rdxssq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Vector (n - 1) a
</span><a href="#local-6989586621679165773"><span class="hs-identifier hs-var">rdxs</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n - 1) a -&gt; Vector (n - 1) a -&gt; Vector (n - 1) a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Vector (n - 1) a
</span><a href="#local-6989586621679165773"><span class="hs-identifier hs-var">rdxs</span></a></span><span>
</span><span id="line-120"></span><span>          </span><span id="local-6989586621679165776"><span class="annot"><span class="annottext">dys :: Vector (n - 1) a
</span><a href="#local-6989586621679165776"><span class="hs-identifier hs-var hs-var">dys</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Vector (1 + (n - 1)) a -&gt; Vector (n - 1) a
forall (n :: Nat) a. Vector (1 + n) a -&gt; Vector n a
</span><span class="hs-identifier hs-var">SV.tail</span></span><span> </span><span class="annot"><span class="annottext">Vector n a
Vector (1 + (n - 1)) a
</span><a href="#local-6989586621679165779"><span class="hs-identifier hs-var">ys</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n - 1) a -&gt; Vector (n - 1) a -&gt; Vector (n - 1) a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Vector ((n - 1) + 1) a -&gt; Vector (n - 1) a
forall (n :: Nat) a. Vector (n + 1) a -&gt; Vector n a
</span><span class="hs-identifier hs-var">SV.init</span></span><span> </span><span class="annot"><span class="annottext">Vector n a
Vector ((n - 1) + 1) a
</span><a href="#local-6989586621679165779"><span class="hs-identifier hs-var">ys</span></a></span><span>
</span><span id="line-121"></span><span>          </span><span id="local-6989586621679165770"><span class="annot"><span class="annottext">dydxssq :: Vector (n - 1) a
</span><a href="#local-6989586621679165770"><span class="hs-identifier hs-var hs-var">dydxssq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Vector (n - 1) a
</span><a href="#local-6989586621679165776"><span class="hs-identifier hs-var">dys</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n - 1) a -&gt; Vector (n - 1) a -&gt; Vector (n - 1) a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Vector (n - 1) a
</span><a href="#local-6989586621679165771"><span class="hs-identifier hs-var">rdxssq</span></a></span><span>
</span><span id="line-122"></span><span>          </span><span class="annot"><a href="#local-6989586621679165769"><span class="hs-identifier hs-type">mainDiag</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SV.Vector</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679165785"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">-</span></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679165790"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-123"></span><span>          </span><span id="local-6989586621679165769"><span class="annot"><span class="annottext">mainDiag :: Vector (n - 2) a
</span><a href="#local-6989586621679165769"><span class="hs-identifier hs-var hs-var">mainDiag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a -&gt; a)
-&gt; Vector (n - 2) a -&gt; Vector (n - 2) a -&gt; Vector (n - 2) a
forall a b c (n :: Nat).
(a -&gt; b -&gt; c) -&gt; Vector n a -&gt; Vector n b -&gt; Vector n c
</span><span class="hs-identifier hs-var">SV.zipWith</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679165767"><span class="annot"><span class="annottext">rdx0 :: a
</span><a href="#local-6989586621679165767"><span class="hs-identifier hs-var">rdx0</span></a></span></span><span> </span><span id="local-6989586621679165766"><span class="annot"><span class="annottext">rdx1 :: a
</span><a href="#local-6989586621679165766"><span class="hs-identifier hs-var">rdx1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165767"><span class="hs-identifier hs-var">rdx0</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165766"><span class="hs-identifier hs-var">rdx1</span></a></span><span> </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-124"></span><span>                        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector ((n - 2) + 1) a -&gt; Vector (n - 2) a
forall (n :: Nat) a. Vector (n + 1) a -&gt; Vector n a
</span><span class="hs-identifier hs-var">SV.init</span></span><span> </span><span class="annot"><span class="annottext">Vector ((n - 2) + 1) a
Vector (n - 1) a
</span><a href="#local-6989586621679165773"><span class="hs-identifier hs-var">rdxs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>                        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector (1 + (n - 2)) a -&gt; Vector (n - 2) a
forall (n :: Nat) a. Vector (1 + n) a -&gt; Vector n a
</span><span class="hs-identifier hs-var">SV.tail</span></span><span> </span><span class="annot"><span class="annottext">Vector (1 + (n - 2)) a
Vector (n - 1) a
</span><a href="#local-6989586621679165773"><span class="hs-identifier hs-var">rdxs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-126"></span><span>          </span><span class="annot"><a href="#local-6989586621679165765"><span class="hs-identifier hs-type">lowerDiag</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SV.Vector</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679165785"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">-</span></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679165790"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-127"></span><span>          </span><span id="local-6989586621679165765"><span class="annot"><span class="annottext">lowerDiag :: Vector (n - 2) a
</span><a href="#local-6989586621679165765"><span class="hs-identifier hs-var hs-var">lowerDiag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Vector ((n - 2) + 1) a -&gt; Vector (n - 2) a
forall (n :: Nat) (m :: Nat) a.
KnownNat n =&gt;
Vector (n + m) a -&gt; Vector n a
</span><span class="hs-identifier hs-var">SV.take</span></span><span> </span><span class="annot"><span class="annottext">Vector ((n - 2) + 1) a
Vector (n - 1) a
</span><a href="#local-6989586621679165773"><span class="hs-identifier hs-var">rdxs</span></a></span><span>
</span><span id="line-128"></span><span>          </span><span class="annot"><a href="#local-6989586621679165763"><span class="hs-identifier hs-type">upperDiag</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SV.Vector</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679165785"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">-</span></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679165790"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-129"></span><span>          </span><span id="local-6989586621679165763"><span class="annot"><span class="annottext">upperDiag :: Vector (n - 2) a
</span><a href="#local-6989586621679165763"><span class="hs-identifier hs-var hs-var">upperDiag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Vector (1 + (n - 2)) a -&gt; Vector (n - 2) a
forall (n :: Nat) a. Vector (1 + n) a -&gt; Vector n a
</span><span class="hs-identifier hs-var">SV.tail</span></span><span> </span><span class="annot"><span class="annottext">Vector (1 + (n - 2)) a
Vector (n - 1) a
</span><a href="#local-6989586621679165773"><span class="hs-identifier hs-var">rdxs</span></a></span><span>
</span><span id="line-130"></span><span>          </span><span class="annot"><a href="#local-6989586621679165762"><span class="hs-identifier hs-type">rhs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SV.Vector</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679165785"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">-</span></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679165790"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-131"></span><span>          </span><span id="local-6989586621679165762"><span class="annot"><span class="annottext">rhs :: Vector (n - 2) a
</span><a href="#local-6989586621679165762"><span class="hs-identifier hs-var hs-var">rhs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a -&gt; a)
-&gt; Vector (n - 2) a -&gt; Vector (n - 2) a -&gt; Vector (n - 2) a
forall a b c (n :: Nat).
(a -&gt; b -&gt; c) -&gt; Vector n a -&gt; Vector n b -&gt; Vector n c
</span><span class="hs-identifier hs-var">SV.zipWith</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679165761"><span class="annot"><span class="annottext">dydxsq0 :: a
</span><a href="#local-6989586621679165761"><span class="hs-identifier hs-var">dydxsq0</span></a></span></span><span> </span><span id="local-6989586621679165760"><span class="annot"><span class="annottext">dydxsq1 :: a
</span><a href="#local-6989586621679165760"><span class="hs-identifier hs-var">dydxsq1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-number">3</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165761"><span class="hs-identifier hs-var">dydxsq0</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165760"><span class="hs-identifier hs-var">dydxsq1</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span>                        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector ((n - 2) + 1) a -&gt; Vector (n - 2) a
forall (n :: Nat) a. Vector (n + 1) a -&gt; Vector n a
</span><span class="hs-identifier hs-var">SV.init</span></span><span> </span><span class="annot"><span class="annottext">Vector ((n - 2) + 1) a
Vector (n - 1) a
</span><a href="#local-6989586621679165770"><span class="hs-identifier hs-var">dydxssq</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span>                        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector (1 + (n - 2)) a -&gt; Vector (n - 2) a
forall (n :: Nat) a. Vector (1 + n) a -&gt; Vector n a
</span><span class="hs-identifier hs-var">SV.tail</span></span><span> </span><span class="annot"><span class="annottext">Vector (1 + (n - 2)) a
Vector (n - 1) a
</span><a href="#local-6989586621679165770"><span class="hs-identifier hs-var">dydxssq</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span>          </span><span id="local-6989586621679165754"><span id="local-6989586621679165755"><span id="local-6989586621679165756"><span id="local-6989586621679165757"><span id="local-6989586621679165758"><span id="local-6989586621679165759"><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#EE"><span class="hs-identifier hs-type">EE</span></a></span><span class="hs-special">{</span><span class="hs-glyph">..</span><span class="hs-special">}</span></span></span></span></span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SplineEnd a
</span><a href="#local-6989586621679165789"><span class="hs-identifier hs-var">se</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-135"></span><span>            </span><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#SENotAKnot"><span class="hs-identifier hs-type">SENotAKnot</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Vector ((n - 2) + 1) a
-&gt; Vector ((n - 2) + 1) a -&gt; Vector ((n - 2) + 1) a -&gt; EndEqn a
forall (n :: Nat) a.
(KnownNat n, Num a) =&gt;
Vector (n + 1) a
-&gt; Vector (n + 1) a -&gt; Vector (n + 1) a -&gt; EndEqn a
</span><a href="Numeric.EMD.Internal.Spline.html#notAKnot"><span class="hs-identifier hs-var">notAKnot</span></a></span><span> </span><span class="annot"><span class="annottext">Vector ((n - 2) + 1) a
Vector (n - 1) a
</span><a href="#local-6989586621679165773"><span class="hs-identifier hs-var">rdxs</span></a></span><span> </span><span class="annot"><span class="annottext">Vector ((n - 2) + 1) a
Vector (n - 1) a
</span><a href="#local-6989586621679165771"><span class="hs-identifier hs-var">rdxssq</span></a></span><span> </span><span class="annot"><span class="annottext">Vector ((n - 2) + 1) a
Vector (n - 1) a
</span><a href="#local-6989586621679165770"><span class="hs-identifier hs-var">dydxssq</span></a></span><span>
</span><span id="line-136"></span><span>            </span><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#SENatural"><span class="hs-identifier hs-type">SENatural</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Vector ((n - 2) + 1) a -&gt; Vector ((n - 2) + 1) a -&gt; EndEqn a
forall (n :: Nat) a.
(KnownNat n, Num a) =&gt;
Vector (n + 1) a -&gt; Vector (n + 1) a -&gt; EndEqn a
</span><a href="Numeric.EMD.Internal.Spline.html#natural"><span class="hs-identifier hs-var">natural</span></a></span><span> </span><span class="annot"><span class="annottext">Vector ((n - 2) + 1) a
Vector (n - 1) a
</span><a href="#local-6989586621679165773"><span class="hs-identifier hs-var">rdxs</span></a></span><span> </span><span class="annot"><span class="annottext">Vector ((n - 2) + 1) a
Vector (n - 1) a
</span><a href="#local-6989586621679165770"><span class="hs-identifier hs-var">dydxssq</span></a></span><span>
</span><span id="line-137"></span><span>            </span><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#SEClamped"><span class="hs-identifier hs-type">SEClamped</span></a></span><span> </span><span id="local-6989586621679165744"><span class="annot"><span class="annottext">c0 :: a
</span><a href="#local-6989586621679165744"><span class="hs-identifier hs-var">c0</span></a></span></span><span> </span><span id="local-6989586621679165743"><span class="annot"><span class="annottext">c1 :: a
</span><a href="#local-6989586621679165743"><span class="hs-identifier hs-var">c1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; EndEqn a
forall a. Num a =&gt; a -&gt; a -&gt; EndEqn a
</span><a href="Numeric.EMD.Internal.Spline.html#clamped"><span class="hs-identifier hs-var">clamped</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165744"><span class="hs-identifier hs-var">c0</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165743"><span class="hs-identifier hs-var">c1</span></a></span><span>
</span><span id="line-138"></span><span>            </span><span class="hs-comment">-- TODO: perterb if singular</span><span>
</span><span id="line-139"></span><span>          </span><span id="local-6989586621679165741"><span class="annot"><span class="annottext">solution :: Vector Vector ((n - 2) + 2) a
</span><a href="#local-6989586621679165741"><span class="hs-identifier hs-var hs-var">solution</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Vector Vector ((n - 2) + 2) a
-&gt; Maybe (Vector Vector ((n - 2) + 2) a)
-&gt; Vector Vector ((n - 2) + 2) a
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Vector Vector ((n - 2) + 2) a
forall a. String -&gt; a
</span><span class="hs-identifier hs-var">errorWithoutStackTrace</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Numeric.EMD.Internal.Spline.makeSpline: Splining coefficient matrix is singular&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe (Vector Vector ((n - 2) + 2) a)
 -&gt; Vector Vector ((n - 2) + 2) a)
-&gt; Maybe (Vector Vector ((n - 2) + 2) a)
-&gt; Vector Vector ((n - 2) + 2) a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-140"></span><span>            </span><span class="annot"><span class="annottext">Vector ((n - 2) + 1) a
-&gt; Vector Vector ((n - 2) + 2) a
-&gt; Vector ((n - 2) + 1) a
-&gt; Vector Vector ((n - 2) + 2) a
-&gt; Maybe (Vector Vector ((n - 2) + 2) a)
forall (v :: * -&gt; *) (n :: Nat) a.
(Vector v a, KnownNat n, Fractional a, Eq a) =&gt;
Vector v (n + 1) a
-&gt; Vector v (n + 2) a
-&gt; Vector v (n + 1) a
-&gt; Vector v (n + 2) a
-&gt; Maybe (Vector v (n + 2) a)
</span><a href="Numeric.EMD.Internal.Tridiagonal.html#solveTridiagonal"><span class="hs-identifier hs-var">solveTridiagonal</span></a></span><span> </span><span class="hs-special">(</span><span>                    </span><span class="annot"><span class="annottext">Vector (n - 2) a
</span><a href="#local-6989586621679165765"><span class="hs-identifier hs-var">lowerDiag</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n - 2) a -&gt; a -&gt; Vector ((n - 2) + 1) a
forall (n :: Nat) a. Vector n a -&gt; a -&gt; Vector (n + 1) a
</span><span class="hs-operator hs-var">`SV.snoc`</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165757"><span class="hs-identifier hs-var">eeLower1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-141"></span><span>                             </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165759"><span class="hs-identifier hs-var">eeMain0</span></a></span><span>   </span><span class="annot"><span class="annottext">a -&gt; Vector (n - 2) a -&gt; Vector (1 + (n - 2)) a
forall (n :: Nat) a. a -&gt; Vector n a -&gt; Vector (1 + n) a
</span><span class="hs-operator hs-var">`SV.cons`</span></span><span> </span><span class="annot"><span class="annottext">Vector (n - 2) a
</span><a href="#local-6989586621679165769"><span class="hs-identifier hs-var">mainDiag</span></a></span><span>  </span><span class="annot"><span class="annottext">Vector (n - 1) a -&gt; a -&gt; Vector ((n - 1) + 1) a
forall (n :: Nat) a. Vector n a -&gt; a -&gt; Vector (n + 1) a
</span><span class="hs-operator hs-var">`SV.snoc`</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165756"><span class="hs-identifier hs-var">eeMain1</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-142"></span><span>                             </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165758"><span class="hs-identifier hs-var">eeUpper0</span></a></span><span>  </span><span class="annot"><span class="annottext">a -&gt; Vector (n - 2) a -&gt; Vector (1 + (n - 2)) a
forall (n :: Nat) a. a -&gt; Vector n a -&gt; Vector (1 + n) a
</span><span class="hs-operator hs-var">`SV.cons`</span></span><span> </span><span class="annot"><span class="annottext">Vector (n - 2) a
</span><a href="#local-6989586621679165763"><span class="hs-identifier hs-var">upperDiag</span></a></span><span>                   </span><span class="hs-special">)</span><span>
</span><span id="line-143"></span><span>                             </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165755"><span class="hs-identifier hs-var">eeRhs0</span></a></span><span>    </span><span class="annot"><span class="annottext">a -&gt; Vector (n - 2) a -&gt; Vector (1 + (n - 2)) a
forall (n :: Nat) a. a -&gt; Vector n a -&gt; Vector (1 + n) a
</span><span class="hs-operator hs-var">`SV.cons`</span></span><span> </span><span class="annot"><span class="annottext">Vector (n - 2) a
</span><a href="#local-6989586621679165762"><span class="hs-identifier hs-var">rhs</span></a></span><span>       </span><span class="annot"><span class="annottext">Vector (n - 1) a -&gt; a -&gt; Vector ((n - 1) + 1) a
forall (n :: Nat) a. Vector n a -&gt; a -&gt; Vector (n + 1) a
</span><span class="hs-operator hs-var">`SV.snoc`</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165754"><span class="hs-identifier hs-var">eeRhs1</span></a></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-144"></span><span>          </span><span class="annot"><a href="#local-6989586621679165735"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SV.Vector</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679165785"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679165790"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-145"></span><span>          </span><span id="local-6989586621679165735"><span class="annot"><span class="annottext">as :: Vector (n - 1) a
</span><a href="#local-6989586621679165735"><span class="hs-keyword hs-var hs-var">as</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a -&gt; a -&gt; a)
-&gt; Vector (n - 1) a
-&gt; Vector (n - 1) a
-&gt; Vector (n - 1) a
-&gt; Vector (n - 1) a
forall a b c d (n :: Nat).
(a -&gt; b -&gt; c -&gt; d)
-&gt; Vector n a -&gt; Vector n b -&gt; Vector n c -&gt; Vector n d
</span><span class="hs-identifier hs-var">SV.zipWith3</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679165733"><span class="annot"><span class="annottext">k :: a
</span><a href="#local-6989586621679165733"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679165732"><span class="annot"><span class="annottext">dx :: a
</span><a href="#local-6989586621679165732"><span class="hs-identifier hs-var">dx</span></a></span></span><span> </span><span id="local-6989586621679165731"><span class="annot"><span class="annottext">dy :: a
</span><a href="#local-6989586621679165731"><span class="hs-identifier hs-var">dy</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165733"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165732"><span class="hs-identifier hs-var">dx</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165731"><span class="hs-identifier hs-var">dy</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector ((n - 1) + 1) a -&gt; Vector (n - 1) a
forall (n :: Nat) a. Vector (n + 1) a -&gt; Vector n a
</span><span class="hs-identifier hs-var">SV.init</span></span><span> </span><span class="annot"><span class="annottext">Vector ((n - 1) + 1) a
Vector Vector ((n - 2) + 2) a
</span><a href="#local-6989586621679165741"><span class="hs-identifier hs-var">solution</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Vector (n - 1) a
</span><a href="#local-6989586621679165777"><span class="hs-identifier hs-var">dxs</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n - 1) a
</span><a href="#local-6989586621679165776"><span class="hs-identifier hs-var">dys</span></a></span><span>
</span><span id="line-146"></span><span>          </span><span class="annot"><a href="#local-6989586621679165730"><span class="hs-identifier hs-type">bs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SV.Vector</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679165785"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679165790"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-147"></span><span>          </span><span id="local-6989586621679165730"><span class="annot"><span class="annottext">bs :: Vector (n - 1) a
</span><a href="#local-6989586621679165730"><span class="hs-identifier hs-var hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a -&gt; a -&gt; a)
-&gt; Vector (n - 1) a
-&gt; Vector (n - 1) a
-&gt; Vector (n - 1) a
-&gt; Vector (n - 1) a
forall a b c d (n :: Nat).
(a -&gt; b -&gt; c -&gt; d)
-&gt; Vector n a -&gt; Vector n b -&gt; Vector n c -&gt; Vector n d
</span><span class="hs-identifier hs-var">SV.zipWith3</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679165729"><span class="annot"><span class="annottext">k :: a
</span><a href="#local-6989586621679165729"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679165728"><span class="annot"><span class="annottext">dx :: a
</span><a href="#local-6989586621679165728"><span class="hs-identifier hs-var">dx</span></a></span></span><span> </span><span id="local-6989586621679165727"><span class="annot"><span class="annottext">dy :: a
</span><a href="#local-6989586621679165727"><span class="hs-identifier hs-var">dy</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">-</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165729"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165728"><span class="hs-identifier hs-var">dx</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165727"><span class="hs-identifier hs-var">dy</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector (1 + (n - 1)) a -&gt; Vector (n - 1) a
forall (n :: Nat) a. Vector (1 + n) a -&gt; Vector n a
</span><span class="hs-identifier hs-var">SV.tail</span></span><span> </span><span class="annot"><span class="annottext">Vector (1 + (n - 1)) a
Vector Vector ((n - 2) + 2) a
</span><a href="#local-6989586621679165741"><span class="hs-identifier hs-var">solution</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Vector (n - 1) a
</span><a href="#local-6989586621679165777"><span class="hs-identifier hs-var">dxs</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n - 1) a
</span><a href="#local-6989586621679165776"><span class="hs-identifier hs-var">dys</span></a></span><span>
</span><span id="line-148"></span><span>          </span><span class="annot"><a href="#local-6989586621679165726"><span class="hs-identifier hs-type">coefs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SV.Vector</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679165785"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679165790"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#SplineCoef"><span class="hs-identifier hs-type">SplineCoef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679165790"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-149"></span><span>          </span><span id="local-6989586621679165726"><span class="annot"><span class="annottext">coefs :: Vector (n - 1) (a, SplineCoef a)
</span><a href="#local-6989586621679165726"><span class="hs-identifier hs-var hs-var">coefs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a -&gt; a -&gt; a -&gt; a -&gt; a -&gt; (a, SplineCoef a))
-&gt; Vector (n - 1) a
-&gt; Vector (n - 1) a
-&gt; Vector (n - 1) a
-&gt; Vector (n - 1) a
-&gt; Vector (n - 1) a
-&gt; Vector (n - 1) a
-&gt; Vector (n - 1) (a, SplineCoef a)
forall a b c d e f g (n :: Nat).
(a -&gt; b -&gt; c -&gt; d -&gt; e -&gt; f -&gt; g)
-&gt; Vector n a
-&gt; Vector n b
-&gt; Vector n c
-&gt; Vector n d
-&gt; Vector n e
-&gt; Vector n f
-&gt; Vector n g
</span><span class="hs-identifier hs-var">SV.zipWith6</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679165724"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679165724"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679165723"><span class="annot"><span class="annottext">&#945; :: a
</span><a href="#local-6989586621679165723"><span class="hs-identifier hs-var">&#945;</span></a></span></span><span> </span><span id="local-6989586621679165722"><span class="annot"><span class="annottext">&#946; :: a
</span><a href="#local-6989586621679165722"><span class="hs-identifier hs-var">&#946;</span></a></span></span><span> </span><span id="local-6989586621679165721"><span class="annot"><span class="annottext">&#947;0 :: a
</span><a href="#local-6989586621679165721"><span class="hs-identifier hs-var">&#947;0</span></a></span></span><span> </span><span id="local-6989586621679165720"><span class="annot"><span class="annottext">&#947;1 :: a
</span><a href="#local-6989586621679165720"><span class="hs-identifier hs-var">&#947;1</span></a></span></span><span> </span><span id="local-6989586621679165719"><span class="annot"><span class="annottext">&#948; :: a
</span><a href="#local-6989586621679165719"><span class="hs-identifier hs-var">&#948;</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165724"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a -&gt; a -&gt; a -&gt; SplineCoef a
forall a. a -&gt; a -&gt; a -&gt; a -&gt; a -&gt; SplineCoef a
</span><a href="Numeric.EMD.Internal.Spline.html#SC"><span class="hs-identifier hs-var">SC</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165723"><span class="hs-identifier hs-var">&#945;</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165722"><span class="hs-identifier hs-var">&#946;</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165721"><span class="hs-identifier hs-var">&#947;0</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165720"><span class="hs-identifier hs-var">&#947;1</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165719"><span class="hs-identifier hs-var">&#948;</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-150"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector ((n - 1) + 1) a -&gt; Vector (n - 1) a
forall (n :: Nat) a. Vector (n + 1) a -&gt; Vector n a
</span><span class="hs-identifier hs-var">SV.init</span></span><span> </span><span class="annot"><span class="annottext">Vector n a
Vector ((n - 1) + 1) a
</span><a href="#local-6989586621679165780"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Vector (n - 1) a
</span><a href="#local-6989586621679165735"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n - 1) a
</span><a href="#local-6989586621679165730"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector ((n - 1) + 1) a -&gt; Vector (n - 1) a
forall (n :: Nat) a. Vector (n + 1) a -&gt; Vector n a
</span><span class="hs-identifier hs-var">SV.init</span></span><span> </span><span class="annot"><span class="annottext">Vector n a
Vector ((n - 1) + 1) a
</span><a href="#local-6989586621679165779"><span class="hs-identifier hs-var">ys</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector (1 + (n - 1)) a -&gt; Vector (n - 1) a
forall (n :: Nat) a. Vector (1 + n) a -&gt; Vector n a
</span><span class="hs-identifier hs-var">SV.tail</span></span><span> </span><span class="annot"><span class="annottext">Vector n a
Vector (1 + (n - 1)) a
</span><a href="#local-6989586621679165779"><span class="hs-identifier hs-var">ys</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Vector (n - 1) a
</span><a href="#local-6989586621679165777"><span class="hs-identifier hs-var">dxs</span></a></span><span>
</span><span id="line-151"></span><span>
</span><span id="line-152"></span><span>      </span><span class="annot"><span class="annottext">Spline a -&gt; Maybe (Spline a)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">$WSpline :: forall a. (a, SplineCoef a) -&gt; Map a (SplineCoef a) -&gt; Spline a
</span><a href="Numeric.EMD.Internal.Spline.html#%24WSpline"><span class="hs-identifier hs-type hs-type">Spline</span></a></span><span>
</span><span id="line-153"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">splineHead :: (a, SplineCoef a)
</span><a href="Numeric.EMD.Internal.Spline.html#splineHead"><span class="hs-identifier hs-var">splineHead</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Vector (1 + (n - 2)) (a, SplineCoef a) -&gt; (a, SplineCoef a)
forall (n :: Nat) a. Vector (1 + n) a -&gt; a
</span><span class="hs-identifier hs-var">SV.head</span></span><span> </span><span class="annot"><span class="annottext">Vector (1 + (n - 2)) (a, SplineCoef a)
Vector (n - 1) (a, SplineCoef a)
</span><a href="#local-6989586621679165726"><span class="hs-identifier hs-var">coefs</span></a></span><span>
</span><span id="line-154"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">splineTail :: Map a (SplineCoef a)
</span><a href="Numeric.EMD.Internal.Spline.html#splineTail"><span class="hs-identifier hs-var">splineTail</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(a, SplineCoef a)] -&gt; Map a (SplineCoef a)
forall k a. Eq k =&gt; [(k, a)] -&gt; Map k a
</span><span class="hs-identifier hs-var">M.fromAscList</span></span><span> </span><span class="annot"><span class="annottext">([(a, SplineCoef a)] -&gt; Map a (SplineCoef a))
-&gt; (Vector (1 + (n - 2)) (a, SplineCoef a) -&gt; [(a, SplineCoef a)])
-&gt; Vector (1 + (n - 2)) (a, SplineCoef a)
-&gt; Map a (SplineCoef a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Vector (n - 2) (a, SplineCoef a) -&gt; [(a, SplineCoef a)]
forall (n :: Nat) a. Vector n a -&gt; [a]
</span><span class="hs-identifier hs-var">SV.toList</span></span><span> </span><span class="annot"><span class="annottext">(Vector (n - 2) (a, SplineCoef a) -&gt; [(a, SplineCoef a)])
-&gt; (Vector (1 + (n - 2)) (a, SplineCoef a)
    -&gt; Vector (n - 2) (a, SplineCoef a))
-&gt; Vector (1 + (n - 2)) (a, SplineCoef a)
-&gt; [(a, SplineCoef a)]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Vector (1 + (n - 2)) (a, SplineCoef a)
-&gt; Vector (n - 2) (a, SplineCoef a)
forall (n :: Nat) a. Vector (1 + n) a -&gt; Vector n a
</span><span class="hs-identifier hs-var">SV.tail</span></span><span> </span><span class="annot"><span class="annottext">(Vector (1 + (n - 2)) (a, SplineCoef a) -&gt; Map a (SplineCoef a))
-&gt; Vector (1 + (n - 2)) (a, SplineCoef a) -&gt; Map a (SplineCoef a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Vector (1 + (n - 2)) (a, SplineCoef a)
Vector (n - 1) (a, SplineCoef a)
</span><a href="#local-6989586621679165726"><span class="hs-identifier hs-var">coefs</span></a></span><span>
</span><span id="line-155"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span class="hs-keyword">data</span><span> </span><span id="EndEqn"><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#EndEqn"><span class="hs-identifier hs-var">EndEqn</span></a></span></span><span> </span><span id="local-6989586621679165935"><span class="annot"><a href="#local-6989586621679165935"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="EE"><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#EE"><span class="hs-identifier hs-var">EE</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="eeMain0"><span class="annot"><span class="annottext">EndEqn a -&gt; a
</span><a href="Numeric.EMD.Internal.Spline.html#eeMain0"><span class="hs-identifier hs-var hs-var">eeMain0</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="#local-6989586621679165935"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-158"></span><span>                   </span><span class="hs-special">,</span><span> </span><span id="eeUpper0"><span class="annot"><span class="annottext">EndEqn a -&gt; a
</span><a href="Numeric.EMD.Internal.Spline.html#eeUpper0"><span class="hs-identifier hs-var hs-var">eeUpper0</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="#local-6989586621679165935"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-159"></span><span>                   </span><span class="hs-special">,</span><span> </span><span id="eeLower1"><span class="annot"><span class="annottext">EndEqn a -&gt; a
</span><a href="Numeric.EMD.Internal.Spline.html#eeLower1"><span class="hs-identifier hs-var hs-var">eeLower1</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="#local-6989586621679165935"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-160"></span><span>                   </span><span class="hs-special">,</span><span> </span><span id="eeMain1"><span class="annot"><span class="annottext">EndEqn a -&gt; a
</span><a href="Numeric.EMD.Internal.Spline.html#eeMain1"><span class="hs-identifier hs-var hs-var">eeMain1</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="#local-6989586621679165935"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-161"></span><span>                   </span><span class="hs-special">,</span><span> </span><span id="eeRhs0"><span class="annot"><span class="annottext">EndEqn a -&gt; a
</span><a href="Numeric.EMD.Internal.Spline.html#eeRhs0"><span class="hs-identifier hs-var hs-var">eeRhs0</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="#local-6989586621679165935"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-162"></span><span>                   </span><span class="hs-special">,</span><span> </span><span id="eeRhs1"><span class="annot"><span class="annottext">EndEqn a -&gt; a
</span><a href="Numeric.EMD.Internal.Spline.html#eeRhs1"><span class="hs-identifier hs-var hs-var">eeRhs1</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="#local-6989586621679165935"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-163"></span><span>                   </span><span class="hs-special">}</span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span id="local-6989586621679165931"><span id="local-6989586621679165932"><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#natural"><span class="hs-identifier hs-type">natural</span></a></span><span>
</span><span id="line-166"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">KnownNat</span></span><span> </span><span class="annot"><a href="#local-6989586621679165932"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621679165931"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SV.Vector</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679165932"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">+</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679165931"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-168"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SV.Vector</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679165932"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">+</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679165931"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-169"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#EndEqn"><span class="hs-identifier hs-type">EndEqn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679165931"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-170"></span><span id="natural"><span class="annot"><span class="annottext">natural :: Vector (n + 1) a -&gt; Vector (n + 1) a -&gt; EndEqn a
</span><a href="Numeric.EMD.Internal.Spline.html#natural"><span class="hs-identifier hs-var hs-var">natural</span></a></span></span><span> </span><span id="local-6989586621679165713"><span class="annot"><span class="annottext">rdxs :: Vector (n + 1) a
</span><a href="#local-6989586621679165713"><span class="hs-identifier hs-var">rdxs</span></a></span></span><span> </span><span id="local-6989586621679165712"><span class="annot"><span class="annottext">dydxssq :: Vector (n + 1) a
</span><a href="#local-6989586621679165712"><span class="hs-identifier hs-var">dydxssq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">$WEE :: forall a. a -&gt; a -&gt; a -&gt; a -&gt; a -&gt; a -&gt; EndEqn a
</span><a href="Numeric.EMD.Internal.Spline.html#%24WEE"><span class="hs-identifier hs-type hs-type">EE</span></a></span><span>
</span><span id="line-171"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">eeMain0 :: a
</span><a href="Numeric.EMD.Internal.Spline.html#eeMain0"><span class="hs-identifier hs-var">eeMain0</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector (n + 1) a
</span><a href="#local-6989586621679165713"><span class="hs-identifier hs-var">rdxs</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a -&gt; Finite (n + 1) -&gt; a
forall (n :: Nat) a. Vector n a -&gt; Finite n -&gt; a
</span><span class="hs-operator hs-var">`SV.index`</span></span><span> </span><span class="annot"><span class="annottext">Finite (n + 1)
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">minBound</span></span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eeUpper0 :: a
</span><a href="Numeric.EMD.Internal.Spline.html#eeUpper0"><span class="hs-identifier hs-var">eeUpper0</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a
</span><a href="#local-6989586621679165713"><span class="hs-identifier hs-var">rdxs</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a -&gt; Finite (n + 1) -&gt; a
forall (n :: Nat) a. Vector n a -&gt; Finite n -&gt; a
</span><span class="hs-operator hs-var">`SV.index`</span></span><span> </span><span class="annot"><span class="annottext">Finite (n + 1)
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">minBound</span></span><span>
</span><span id="line-173"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eeLower1 :: a
</span><a href="Numeric.EMD.Internal.Spline.html#eeLower1"><span class="hs-identifier hs-var">eeLower1</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a
</span><a href="#local-6989586621679165713"><span class="hs-identifier hs-var">rdxs</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a -&gt; Finite (n + 1) -&gt; a
forall (n :: Nat) a. Vector n a -&gt; Finite n -&gt; a
</span><span class="hs-operator hs-var">`SV.index`</span></span><span> </span><span class="annot"><span class="annottext">Finite (n + 1)
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">maxBound</span></span><span>
</span><span id="line-174"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eeMain1 :: a
</span><a href="Numeric.EMD.Internal.Spline.html#eeMain1"><span class="hs-identifier hs-var">eeMain1</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector (n + 1) a
</span><a href="#local-6989586621679165713"><span class="hs-identifier hs-var">rdxs</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a -&gt; Finite (n + 1) -&gt; a
forall (n :: Nat) a. Vector n a -&gt; Finite n -&gt; a
</span><span class="hs-operator hs-var">`SV.index`</span></span><span> </span><span class="annot"><span class="annottext">Finite (n + 1)
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">maxBound</span></span><span class="hs-special">)</span><span>
</span><span id="line-175"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eeRhs0 :: a
</span><a href="Numeric.EMD.Internal.Spline.html#eeRhs0"><span class="hs-identifier hs-var">eeRhs0</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">3</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector (n + 1) a
</span><a href="#local-6989586621679165712"><span class="hs-identifier hs-var">dydxssq</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a -&gt; Finite (n + 1) -&gt; a
forall (n :: Nat) a. Vector n a -&gt; Finite n -&gt; a
</span><span class="hs-operator hs-var">`SV.index`</span></span><span> </span><span class="annot"><span class="annottext">Finite (n + 1)
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">minBound</span></span><span class="hs-special">)</span><span>
</span><span id="line-176"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eeRhs1 :: a
</span><a href="Numeric.EMD.Internal.Spline.html#eeRhs1"><span class="hs-identifier hs-var">eeRhs1</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">3</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector (n + 1) a
</span><a href="#local-6989586621679165712"><span class="hs-identifier hs-var">dydxssq</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a -&gt; Finite (n + 1) -&gt; a
forall (n :: Nat) a. Vector n a -&gt; Finite n -&gt; a
</span><span class="hs-operator hs-var">`SV.index`</span></span><span> </span><span class="annot"><span class="annottext">Finite (n + 1)
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">maxBound</span></span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span id="local-6989586621679165933"><span id="local-6989586621679165934"><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#notAKnot"><span class="hs-identifier hs-type">notAKnot</span></a></span><span>
</span><span id="line-180"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">KnownNat</span></span><span> </span><span class="annot"><a href="#local-6989586621679165934"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621679165933"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SV.Vector</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679165934"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">+</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679165933"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-182"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SV.Vector</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679165934"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">+</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679165933"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-183"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SV.Vector</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679165934"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">+</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679165933"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-184"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#EndEqn"><span class="hs-identifier hs-type">EndEqn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679165933"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-185"></span><span id="notAKnot"><span class="annot"><span class="annottext">notAKnot :: Vector (n + 1) a
-&gt; Vector (n + 1) a -&gt; Vector (n + 1) a -&gt; EndEqn a
</span><a href="Numeric.EMD.Internal.Spline.html#notAKnot"><span class="hs-identifier hs-var hs-var">notAKnot</span></a></span></span><span> </span><span id="local-6989586621679165707"><span class="annot"><span class="annottext">rdxs :: Vector (n + 1) a
</span><a href="#local-6989586621679165707"><span class="hs-identifier hs-var">rdxs</span></a></span></span><span> </span><span id="local-6989586621679165706"><span class="annot"><span class="annottext">rdxssq :: Vector (n + 1) a
</span><a href="#local-6989586621679165706"><span class="hs-identifier hs-var">rdxssq</span></a></span></span><span> </span><span id="local-6989586621679165705"><span class="annot"><span class="annottext">dydxssq :: Vector (n + 1) a
</span><a href="#local-6989586621679165705"><span class="hs-identifier hs-var">dydxssq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">$WEE :: forall a. a -&gt; a -&gt; a -&gt; a -&gt; a -&gt; a -&gt; EndEqn a
</span><a href="Numeric.EMD.Internal.Spline.html#%24WEE"><span class="hs-identifier hs-type hs-type">EE</span></a></span><span>
</span><span id="line-186"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">eeMain0 :: a
</span><a href="Numeric.EMD.Internal.Spline.html#eeMain0"><span class="hs-identifier hs-var">eeMain0</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a
</span><a href="#local-6989586621679165706"><span class="hs-identifier hs-var">rdxssq</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a -&gt; Finite (n + 1) -&gt; a
forall (n :: Nat) a. Vector n a -&gt; Finite n -&gt; a
</span><span class="hs-operator hs-var">`SV.index`</span></span><span> </span><span class="annot"><span class="annottext">Finite (n + 1)
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">minBound</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165704"><span class="hs-identifier hs-var">rdx12Upper</span></a></span><span>
</span><span id="line-187"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eeUpper0 :: a
</span><a href="Numeric.EMD.Internal.Spline.html#eeUpper0"><span class="hs-identifier hs-var">eeUpper0</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a
</span><a href="#local-6989586621679165706"><span class="hs-identifier hs-var">rdxssq</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a -&gt; Finite (n + 1) -&gt; a
forall (n :: Nat) a. Vector n a -&gt; Finite n -&gt; a
</span><span class="hs-operator hs-var">`SV.index`</span></span><span> </span><span class="annot"><span class="annottext">Finite (n + 1)
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">minBound</span></span><span>
</span><span id="line-188"></span><span>               </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a
</span><a href="#local-6989586621679165706"><span class="hs-identifier hs-var">rdxssq</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a -&gt; Finite (n + 1) -&gt; a
forall (n :: Nat) a. Vector n a -&gt; Finite n -&gt; a
</span><span class="hs-operator hs-var">`SV.index`</span></span><span> </span><span class="annot"><span class="annottext">Finite n -&gt; Finite (n + 1)
forall (n :: Nat). Finite n -&gt; Finite (n + 1)
</span><span class="hs-identifier hs-var">shift</span></span><span> </span><span class="annot"><span class="annottext">Finite n
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">minBound</span></span><span>
</span><span id="line-189"></span><span>               </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165704"><span class="hs-identifier hs-var">rdx12Upper</span></a></span><span>
</span><span id="line-190"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eeLower1 :: a
</span><a href="Numeric.EMD.Internal.Spline.html#eeLower1"><span class="hs-identifier hs-var">eeLower1</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">-</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector (n + 1) a
</span><a href="#local-6989586621679165706"><span class="hs-identifier hs-var">rdxssq</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a -&gt; Finite (n + 1) -&gt; a
forall (n :: Nat) a. Vector n a -&gt; Finite n -&gt; a
</span><span class="hs-operator hs-var">`SV.index`</span></span><span> </span><span class="annot"><span class="annottext">Finite n -&gt; Finite (n + 1)
forall (n :: Nat). Finite n -&gt; Finite (n + 1)
</span><span class="hs-identifier hs-var">weaken</span></span><span> </span><span class="annot"><span class="annottext">Finite n
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">maxBound</span></span><span class="hs-special">)</span><span>
</span><span id="line-191"></span><span>               </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector (n + 1) a
</span><a href="#local-6989586621679165706"><span class="hs-identifier hs-var">rdxssq</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a -&gt; Finite (n + 1) -&gt; a
forall (n :: Nat) a. Vector n a -&gt; Finite n -&gt; a
</span><span class="hs-operator hs-var">`SV.index`</span></span><span> </span><span class="annot"><span class="annottext">Finite (n + 1)
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">maxBound</span></span><span class="hs-special">)</span><span>
</span><span id="line-192"></span><span>               </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165701"><span class="hs-identifier hs-var">rdx12Lower</span></a></span><span>
</span><span id="line-193"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eeMain1 :: a
</span><a href="Numeric.EMD.Internal.Spline.html#eeMain1"><span class="hs-identifier hs-var">eeMain1</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">-</span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a
</span><a href="#local-6989586621679165706"><span class="hs-identifier hs-var">rdxssq</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a -&gt; Finite (n + 1) -&gt; a
forall (n :: Nat) a. Vector n a -&gt; Finite n -&gt; a
</span><span class="hs-operator hs-var">`SV.index`</span></span><span> </span><span class="annot"><span class="annottext">Finite (n + 1)
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">maxBound</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165701"><span class="hs-identifier hs-var">rdx12Lower</span></a></span><span>
</span><span id="line-194"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eeRhs0 :: a
</span><a href="Numeric.EMD.Internal.Spline.html#eeRhs0"><span class="hs-identifier hs-var">eeRhs0</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector (n + 1) a
</span><a href="#local-6989586621679165705"><span class="hs-identifier hs-var">dydxssq</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a -&gt; Finite (n + 1) -&gt; a
forall (n :: Nat) a. Vector n a -&gt; Finite n -&gt; a
</span><span class="hs-operator hs-var">`SV.index`</span></span><span> </span><span class="annot"><span class="annottext">Finite (n + 1)
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">minBound</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector (n + 1) a
</span><a href="#local-6989586621679165707"><span class="hs-identifier hs-var">rdxs</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a -&gt; Finite (n + 1) -&gt; a
forall (n :: Nat) a. Vector n a -&gt; Finite n -&gt; a
</span><span class="hs-operator hs-var">`SV.index`</span></span><span> </span><span class="annot"><span class="annottext">Finite (n + 1)
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">minBound</span></span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span>               </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="hs-number">3</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector (n + 1) a
</span><a href="#local-6989586621679165705"><span class="hs-identifier hs-var">dydxssq</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a -&gt; Finite (n + 1) -&gt; a
forall (n :: Nat) a. Vector n a -&gt; Finite n -&gt; a
</span><span class="hs-operator hs-var">`SV.index`</span></span><span> </span><span class="annot"><span class="annottext">Finite (n + 1)
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">minBound</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector (n + 1) a
</span><a href="#local-6989586621679165707"><span class="hs-identifier hs-var">rdxs</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a -&gt; Finite (n + 1) -&gt; a
forall (n :: Nat) a. Vector n a -&gt; Finite n -&gt; a
</span><span class="hs-operator hs-var">`SV.index`</span></span><span> </span><span class="annot"><span class="annottext">Finite n -&gt; Finite (n + 1)
forall (n :: Nat). Finite n -&gt; Finite (n + 1)
</span><span class="hs-identifier hs-var">shift</span></span><span> </span><span class="annot"><span class="annottext">Finite n
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">minBound</span></span><span class="hs-special">)</span><span>
</span><span id="line-196"></span><span>               </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector (n + 1) a
</span><a href="#local-6989586621679165705"><span class="hs-identifier hs-var">dydxssq</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a -&gt; Finite (n + 1) -&gt; a
forall (n :: Nat) a. Vector n a -&gt; Finite n -&gt; a
</span><span class="hs-operator hs-var">`SV.index`</span></span><span> </span><span class="annot"><span class="annottext">Finite n -&gt; Finite (n + 1)
forall (n :: Nat). Finite n -&gt; Finite (n + 1)
</span><span class="hs-identifier hs-var">shift</span></span><span> </span><span class="annot"><span class="annottext">Finite n
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">minBound</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector (n + 1) a
</span><a href="#local-6989586621679165707"><span class="hs-identifier hs-var">rdxs</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a -&gt; Finite (n + 1) -&gt; a
forall (n :: Nat) a. Vector n a -&gt; Finite n -&gt; a
</span><span class="hs-operator hs-var">`SV.index`</span></span><span> </span><span class="annot"><span class="annottext">Finite n -&gt; Finite (n + 1)
forall (n :: Nat). Finite n -&gt; Finite (n + 1)
</span><span class="hs-identifier hs-var">shift</span></span><span> </span><span class="annot"><span class="annottext">Finite n
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">minBound</span></span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eeRhs1 :: a
</span><a href="Numeric.EMD.Internal.Spline.html#eeRhs1"><span class="hs-identifier hs-var">eeRhs1</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">-</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector (n + 1) a
</span><a href="#local-6989586621679165705"><span class="hs-identifier hs-var">dydxssq</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a -&gt; Finite (n + 1) -&gt; a
forall (n :: Nat) a. Vector n a -&gt; Finite n -&gt; a
</span><span class="hs-operator hs-var">`SV.index`</span></span><span> </span><span class="annot"><span class="annottext">Finite n -&gt; Finite (n + 1)
forall (n :: Nat). Finite n -&gt; Finite (n + 1)
</span><span class="hs-identifier hs-var">weaken</span></span><span> </span><span class="annot"><span class="annottext">Finite n
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">maxBound</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector (n + 1) a
</span><a href="#local-6989586621679165707"><span class="hs-identifier hs-var">rdxs</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a -&gt; Finite (n + 1) -&gt; a
forall (n :: Nat) a. Vector n a -&gt; Finite n -&gt; a
</span><span class="hs-operator hs-var">`SV.index`</span></span><span> </span><span class="annot"><span class="annottext">Finite n -&gt; Finite (n + 1)
forall (n :: Nat). Finite n -&gt; Finite (n + 1)
</span><span class="hs-identifier hs-var">weaken</span></span><span> </span><span class="annot"><span class="annottext">Finite n
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">maxBound</span></span><span class="hs-special">)</span><span>
</span><span id="line-198"></span><span>               </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="hs-number">3</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector (n + 1) a
</span><a href="#local-6989586621679165705"><span class="hs-identifier hs-var">dydxssq</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a -&gt; Finite (n + 1) -&gt; a
forall (n :: Nat) a. Vector n a -&gt; Finite n -&gt; a
</span><span class="hs-operator hs-var">`SV.index`</span></span><span> </span><span class="annot"><span class="annottext">Finite (n + 1)
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">maxBound</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector (n + 1) a
</span><a href="#local-6989586621679165707"><span class="hs-identifier hs-var">rdxs</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a -&gt; Finite (n + 1) -&gt; a
forall (n :: Nat) a. Vector n a -&gt; Finite n -&gt; a
</span><span class="hs-operator hs-var">`SV.index`</span></span><span> </span><span class="annot"><span class="annottext">Finite n -&gt; Finite (n + 1)
forall (n :: Nat). Finite n -&gt; Finite (n + 1)
</span><span class="hs-identifier hs-var">weaken</span></span><span> </span><span class="annot"><span class="annottext">Finite n
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">maxBound</span></span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span>               </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector (n + 1) a
</span><a href="#local-6989586621679165705"><span class="hs-identifier hs-var">dydxssq</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a -&gt; Finite (n + 1) -&gt; a
forall (n :: Nat) a. Vector n a -&gt; Finite n -&gt; a
</span><span class="hs-operator hs-var">`SV.index`</span></span><span> </span><span class="annot"><span class="annottext">Finite (n + 1)
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">maxBound</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector (n + 1) a
</span><a href="#local-6989586621679165707"><span class="hs-identifier hs-var">rdxs</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a -&gt; Finite (n + 1) -&gt; a
forall (n :: Nat) a. Vector n a -&gt; Finite n -&gt; a
</span><span class="hs-operator hs-var">`SV.index`</span></span><span> </span><span class="annot"><span class="annottext">Finite (n + 1)
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">maxBound</span></span><span class="hs-special">)</span><span>
</span><span id="line-200"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-201"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-202"></span><span>    </span><span id="local-6989586621679165704"><span class="annot"><span class="annottext">rdx12Upper :: a
</span><a href="#local-6989586621679165704"><span class="hs-identifier hs-var hs-var">rdx12Upper</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a
</span><a href="#local-6989586621679165707"><span class="hs-identifier hs-var">rdxs</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a -&gt; Finite (n + 1) -&gt; a
forall (n :: Nat) a. Vector n a -&gt; Finite n -&gt; a
</span><span class="hs-operator hs-var">`SV.index`</span></span><span> </span><span class="annot"><span class="annottext">Finite (n + 1)
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">minBound</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a
</span><a href="#local-6989586621679165707"><span class="hs-identifier hs-var">rdxs</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a -&gt; Finite (n + 1) -&gt; a
forall (n :: Nat) a. Vector n a -&gt; Finite n -&gt; a
</span><span class="hs-operator hs-var">`SV.index`</span></span><span> </span><span class="annot"><span class="annottext">Finite n -&gt; Finite (n + 1)
forall (n :: Nat). Finite n -&gt; Finite (n + 1)
</span><span class="hs-identifier hs-var">shift</span></span><span> </span><span class="annot"><span class="annottext">Finite n
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">minBound</span></span><span>
</span><span id="line-203"></span><span>    </span><span id="local-6989586621679165701"><span class="annot"><span class="annottext">rdx12Lower :: a
</span><a href="#local-6989586621679165701"><span class="hs-identifier hs-var hs-var">rdx12Lower</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a
</span><a href="#local-6989586621679165707"><span class="hs-identifier hs-var">rdxs</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a -&gt; Finite (n + 1) -&gt; a
forall (n :: Nat) a. Vector n a -&gt; Finite n -&gt; a
</span><span class="hs-operator hs-var">`SV.index`</span></span><span> </span><span class="annot"><span class="annottext">Finite (n + 1)
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">maxBound</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a
</span><a href="#local-6989586621679165707"><span class="hs-identifier hs-var">rdxs</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (n + 1) a -&gt; Finite (n + 1) -&gt; a
forall (n :: Nat) a. Vector n a -&gt; Finite n -&gt; a
</span><span class="hs-operator hs-var">`SV.index`</span></span><span> </span><span class="annot"><span class="annottext">Finite n -&gt; Finite (n + 1)
forall (n :: Nat). Finite n -&gt; Finite (n + 1)
</span><span class="hs-identifier hs-var">weaken</span></span><span> </span><span class="annot"><span class="annottext">Finite n
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">maxBound</span></span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span id="local-6989586621679165930"><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#clamped"><span class="hs-identifier hs-type">clamped</span></a></span><span>
</span><span id="line-206"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621679165930"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-207"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679165930"><span class="hs-identifier hs-type">a</span></a></span><span>            </span><span class="hs-comment">-- ^ derivative at left end</span><span>
</span><span id="line-208"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679165930"><span class="hs-identifier hs-type">a</span></a></span><span>            </span><span class="hs-comment">-- ^ derivative at right end</span><span>
</span><span id="line-209"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Numeric.EMD.Internal.Spline.html#EndEqn"><span class="hs-identifier hs-type">EndEqn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679165930"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-210"></span><span id="clamped"><span class="annot"><span class="annottext">clamped :: a -&gt; a -&gt; EndEqn a
</span><a href="Numeric.EMD.Internal.Spline.html#clamped"><span class="hs-identifier hs-var hs-var">clamped</span></a></span></span><span> </span><span id="local-6989586621679165700"><span class="annot"><span class="annottext">c0 :: a
</span><a href="#local-6989586621679165700"><span class="hs-identifier hs-var">c0</span></a></span></span><span> </span><span id="local-6989586621679165699"><span class="annot"><span class="annottext">c1 :: a
</span><a href="#local-6989586621679165699"><span class="hs-identifier hs-var">c1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">$WEE :: forall a. a -&gt; a -&gt; a -&gt; a -&gt; a -&gt; a -&gt; EndEqn a
</span><a href="Numeric.EMD.Internal.Spline.html#%24WEE"><span class="hs-identifier hs-type hs-type">EE</span></a></span><span>
</span><span id="line-211"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">eeMain0 :: a
</span><a href="Numeric.EMD.Internal.Spline.html#eeMain0"><span class="hs-identifier hs-var">eeMain0</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">1</span></span><span>
</span><span id="line-212"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eeUpper0 :: a
</span><a href="Numeric.EMD.Internal.Spline.html#eeUpper0"><span class="hs-identifier hs-var">eeUpper0</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-213"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eeLower1 :: a
</span><a href="Numeric.EMD.Internal.Spline.html#eeLower1"><span class="hs-identifier hs-var">eeLower1</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-214"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eeMain1 :: a
</span><a href="Numeric.EMD.Internal.Spline.html#eeMain1"><span class="hs-identifier hs-var">eeMain1</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">1</span></span><span>
</span><span id="line-215"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eeRhs0 :: a
</span><a href="Numeric.EMD.Internal.Spline.html#eeRhs0"><span class="hs-identifier hs-var">eeRhs0</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165700"><span class="hs-identifier hs-var">c0</span></a></span><span>
</span><span id="line-216"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eeRhs1 :: a
</span><a href="Numeric.EMD.Internal.Spline.html#eeRhs1"><span class="hs-identifier hs-var">eeRhs1</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679165699"><span class="hs-identifier hs-var">c1</span></a></span><span>
</span><span id="line-217"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-218"></span></pre></body></html>